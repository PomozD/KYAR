<html>
<body bgcolor="#9a0101">
  <canvas width="500" height="500" id="canvas"></canvas>
  <script>
    // инициализация набора данных
    var data = [ 45, 30, 25 ];

    var canvas = document.getElementById('canvas');
    var c = canvas.getContext('2d');
    // рисуем фон
    c.fillStyle = "#9a0101";
    c.fillRect(0,0,500,500);
    // список цветов
    var colors = [ "green", "blue", "yellow"];

    // вычисляем сумму всех данных
    var total = 0;
    for(var i=0; i<data.length; i++) {
      total += data[i];
    }
    // рисуем круговые данные
var prevAngle = 0;
for(var i=0; i<data.length; i++) {
  // доля, представленная сегментом
  var fraction = data[i]/total;
  // вычисляем начальный угол
  var angle = prevAngle + fraction*Math.PI*2;

  // рисуем сегмент
  c.fillStyle = colors[i];

  // создаём контур
  c.beginPath();
  c.moveTo(250,250);
  c.arc(250,250, 100, prevAngle, angle, false);
  c.lineTo(250,250);

  // заливаем его
  c.fill();

  // обводим его
  c.strokeStyle = "black";
  c.stroke();

  // обновляем для следующей итерации цикла
  prevAngle = angle;
}
// рисуем текст по центру
c.shadowOffsetX=3;
c.shadowOffsetY=3;
c.shadowBlur=5;
c.shadowColor='black';
c.fillStyle='#ffaa00';
c.fillStyle = "white";
c.font = "24pt sans-serif";
var text = "Распорядок дня";
var metrics = c.measureText(text);
c.fillText(text, 250-metrics.width/2, 100);

//рисуем обозначения

c.fillStyle = "green";
c.fillRect(175,385, 20,20);
c.font = "17pt sans-serif";
var text = "Учеба";
var metrics = c.measureText(text);
c.fillText(text, 250-metrics.width/2, 400);

c.fillStyle = "#0b85e2";
c.fillRect(175,412, 20,20);
c.font = "17pt sans-serif";
var text = "Досуг";
var metrics = c.measureText(text);
c.fillText(text, 250-metrics.width/2, 430);

c.fillStyle = "yellow";
c.fillRect(176,440, 20,20);
c.font = "17pt sans-serif";
var text = "Сон";
var metrics = c.measureText(text);
c.fillText(text, 250-metrics.width/2, 460);
  </script>
</body>
</html>
